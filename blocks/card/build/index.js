(()=>{"use strict";var e,t={193:()=>{const e=window.wp.blocks,t=window.wp.element,l=window.lodash,a=window.wp.blockEditor,i=window.wp.components,n=window.wp.i18n,o=window.wp.hooks,r="wpd-block-card",c="noreferrer noopener",s="default",m="contact",d=(0,o.applyFilters)("wpd.block-card.has_image.default",!0),p=(0,o.applyFilters)("wpd.block-card.image.size","wpd-block-card"),h=(0,o.applyFilters)("wpd.block-card.allowed_image_types",["image"]),g=(0,o.applyFilters)("wpd.block-card.image.default",{src:"",width:"auto",height:"auto",alt:""}),u=(0,o.applyFilters)("wpd.block-card.title.tag","h3"),_=(0,o.applyFilters)("wpd.block-card.has_top_subtitle.default",!1),b=(0,o.applyFilters)("wpd.block-card.has_bottom_subtitle.default",!1),w=(0,o.applyFilters)("wpd.block-card.has_description.default",!0),k=(0,o.applyFilters)("wpd.block-card.description_alignment.default","none"),E=(0,o.applyFilters)("wpd.block-card.has_link.default",!0),f=(0,o.applyFilters)("wpd.block-card.has_phone.default",!0),C=(0,o.applyFilters)("wpd.block-card.has_email.default",!0),$={hasImage:{type:"boolean",default:d},attachmentId:{type:"integer",default:0},imageSrc:{type:"string",default:g.src,source:"attribute",selector:`.${r}__image img`,attribute:"src"},imageWidth:{type:"string",default:g.width,source:"attribute",selector:`.${r}__image img`,attribute:"width"},imageHeight:{type:"string",default:g.height,source:"attribute",selector:`.${r}__image img`,attribute:"height"},imageAlt:{type:"string",default:g.alt,source:"attribute",selector:`.${r}__image img`,attribute:"alt"},title:{type:"string",source:"html",selector:`.${r}__title`},hasTopSubtitle:{type:"boolean",default:_},topSubtitle:{type:"string",source:"html",selector:`.${r}__subtitle_top`},hasBottomSubtitle:{type:"boolean",default:b},bottomSubtitle:{type:"string",source:"html",selector:`.${r}__subtitle_bottom`},hasDescription:{type:"boolean",default:w},description:{type:"string",source:"html",selector:`.${r}__description`},descriptionAlignment:{type:"string",default:k},hasLink:{type:"boolean",default:E},linkHref:{type:"string",source:"attribute",selector:`.${r}__link`,attribute:"href"},linkText:{type:"string",source:"html",selector:`.${r}__link`},linkTarget:{type:"string",source:"attribute",selector:`.${r}__link`,attribute:"target"},linkRel:{type:"string",source:"attribute",selector:`.${r}__link`,attribute:"rel"},hasPhone:{type:"boolean",default:f},phone:{type:"string",source:"html",selector:`.${r}__phone a`},hasEmail:{type:"boolean",default:C},email:{type:"string",source:"html",selector:`.${r}__email a`},type:{type:"string"},imageContainerWidth:{type:"integer"},imageContainerHeight:{type:"integer"}},v=window.wp.primitives;(0,e.registerBlockType)("wpd/block-card",{apiVersion:2,supports:{className:!1},attributes:$,usesContext:["wpd/block-cards-cardType","wpd/block-cards-imageWidth","wpd/block-cards-imageHeight"],edit:function({attributes:e,setAttributes:o,context:$}){const v=(0,t.useRef)(null),y=(0,t.useRef)(null),{hasImage:N=d,attachmentId:S,imageSrc:T=g.src,imageWidth:x=g.width,imageHeight:R=g.height,imageAlt:L=g.alt,title:P,hasTopSubtitle:F=_,topSubtitle:I,hasBottomSubtitle:H=b,bottomSubtitle:B,hasDescription:O=w,description:A,descriptionAlignment:W=k,hasLink:D=E,linkHref:M,linkText:z,linkTarget:Z,linkRel:j,hasPhone:U=f,phone:V,hasEmail:G=C,email:q}=e,{"wpd/block-cards-cardType":J,"wpd/block-cards-imageWidth":K,"wpd/block-cards-imageHeight":Q}=$,[X,Y]=(0,t.useState)(!1),ee="_blank"===Z,te=(e,t)=>{o({[e]:t})},le=()=>Y(!1);(0,t.useEffect)((()=>{o({type:J,imageContainerWidth:K,imageContainerHeight:Q})}),[J,K,Q]);let ae=`${r}__description`;return"none"!==W&&(ae+=` ${r}__description_${W}`),(0,t.createElement)("div",(0,a.useBlockProps)({className:`${r} ${r}_${J}`}),(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,n.__)("Settings","wpd-blocks")},(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show image","wpd-blocks"),checked:N,onChange:()=>te("hasImage",!N)})),(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show description","wpd-blocks"),checked:O,onChange:()=>te("hasDescription",!O)})),J===s&&(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show link","wpd-blocks"),checked:D,onChange:()=>te("hasLink",!D)})),J===m&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show phone","wpd-blocks"),checked:U,onChange:()=>te("hasPhone",!U)})),(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show email","wpd-blocks"),checked:G,onChange:()=>te("hasEmail",!G)})))),(0,t.createElement)(i.PanelBody,{title:(0,n.__)("Subtitle Settings","wpd-blocks"),initialOpen:!1},(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show before title","wpd-blocks"),checked:F,onChange:()=>te("hasTopSubtitle",!F)})),(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Show after title","wpd-blocks"),checked:H,onChange:()=>te("hasBottomSubtitle",!H)})))),N&&(0,t.createElement)("div",{className:`${r}__image`,style:{width:`${K}%`,height:Q}},(0,t.createElement)(a.MediaUploadCheck,null,(0,t.createElement)(a.MediaUpload,{onSelect:e=>{const t={attachmentId:e.id,imageAlt:e.alt||e.filename};(0,l.has)(e,["sizes",p])?(t.imageSrc=e.sizes[p].url,t.imageWidth=e.sizes[p].width,t.imageHeight=e.sizes[p].height):(t.imageSrc=e.url,t.imageWidth=e.width,t.imageHeight=e.height),o(t)},allowedTypes:h,value:S,render:({open:e})=>(0,t.createElement)(i.Button,{onClick:e,icon:!!S&&!T&&(0,t.createElement)(i.Icon,{icon:i.Spinner}),iconSize:46,text:T?"":(0,n.__)("Set image","wpd-blocks"),label:(0,n.__)("Image","wpd-blocks"),className:`${r}__upload ${T?`${r}__upload_with-image`:""}`},!!T&&(0,t.createElement)("img",{src:T,width:x,height:R,alt:L}))}),!!S&&!!T&&(0,t.createElement)(i.Button,{onClick:()=>{o({attachmentId:0,imageSrc:g.src,imageWidth:g.width,imageHeight:g.height,imageAlt:g.alt})},icon:"dismiss",label:(0,n.__)("Remove Image","wpd-blocks"),className:`${r}__remove-image`}))),(0,t.createElement)("div",{className:`${r}__content`},(0,t.createElement)("header",{className:`${r}__header`},F&&(0,t.createElement)(a.RichText,{tagName:"span",multiline:!1,value:I,placeholder:(0,n.__)("Subtitle","wpd-blocks"),onChange:e=>te("topSubtitle",e),className:`${r}__subtitle ${r}__subtitle_top`}),(0,t.createElement)(a.RichText,{tagName:u,allowedFormats:["core/link"],multiline:!1,value:P,placeholder:(0,n.__)("Title","wpd-blocks"),onChange:e=>te("title",e),className:`${r}__title`}),H&&(0,t.createElement)(a.RichText,{tagName:"span",multiline:!1,value:B,placeholder:(0,n.__)("Subtitle","wpd-blocks"),onChange:e=>te("bottomSubtitle",e),className:`${r}__subtitle ${r}__subtitle_bottom`})),O&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.BlockControls,null,(0,t.createElement)(a.AlignmentToolbar,{value:W,onChange:e=>te("descriptionAlignment",e)})),(0,t.createElement)(a.RichText,{tagName:"div",multiline:"p",value:A,placeholder:(0,n.__)("Description","wpd-blocks"),onChange:e=>te("description",e),className:ae})),J===s&&D&&(0,t.createElement)("footer",{className:`${r}__footer`},(0,t.createElement)(a.RichText,{ref:y,tagName:"a",allowedFormats:[],value:z,placeholder:(0,n.__)("Link text","wpd-blocks"),onChange:e=>te("linkText",e),unstableOnFocus:()=>Y(!0),onBlur:()=>{(0,l.defer)((()=>{const e=v.current;let t=e.ownerDocument.activeElement;for(;t;){if(e===t)return;t=t.parentElement,null===t&&le()}}))},className:`${r}__link`}),X&&(0,t.createElement)(i.Popover,{ref:v,position:"bottom center",focusOnMount:!1,onClose:()=>{(0,l.defer)((()=>{const e=y.current;e.ownerDocument.activeElement!==e&&le()}))}},(0,t.createElement)(a.__experimentalLinkControl,{value:{url:M,opensInNewTab:ee},onChange:({url:e="",opensInNewTab:t})=>{te("linkHref",e),ee!==t&&(e=>{const t=e?"_blank":void 0;let l=j;t&&!j?l=c:t||j!==c||(l=void 0),o({linkTarget:t,linkRel:l})})(t)},forceIsEditingLink:X}))),J===m&&(U||G)&&(0,t.createElement)("footer",{className:`${r}__footer`},U&&(0,t.createElement)("div",{className:`${r}__phone`},(0,t.createElement)(a.RichText,{tagName:"a",allowedFormats:[],value:V,placeholder:(0,n.__)("Phone","wpd-blocks"),onChange:e=>te("phone",e)})),G&&(0,t.createElement)("div",{className:`${r}__email`},(0,t.createElement)(a.RichText,{tagName:"a",allowedFormats:[],value:q,placeholder:(0,n.__)("Email","wpd-blocks"),onChange:e=>te("email",e)})))))},save:function({attributes:e}){const{hasImage:i=d,imageSrc:n=g.src,imageWidth:o=g.width,imageHeight:c=g.height,imageAlt:p=g.alt,title:h,hasTopSubtitle:$=_,topSubtitle:v,hasBottomSubtitle:y=b,bottomSubtitle:N,hasDescription:S=w,description:T,descriptionAlignment:x=k,hasLink:R=E,linkHref:L,linkText:P,linkTarget:F,linkRel:I,hasPhone:H=f,phone:B="",hasEmail:O=C,email:A,type:W,imageContainerWidth:D,imageContainerHeight:M}=e;let z=`${r}__description`;return"none"!==x&&(z+=` ${r}__description_${x}`),(0,t.createElement)("div",a.useBlockProps.save({className:`${r} ${r}_${W}`}),i&&!!n&&(0,t.createElement)("div",{className:`${r}__image`,style:{width:`${D}%`,height:M}},(0,t.createElement)("img",{src:n,width:o,height:c,alt:p})),(0,t.createElement)("div",{className:`${r}__content`},(0,t.createElement)("header",{className:`${r}__header`},$&&!!v&&(0,t.createElement)(a.RichText.Content,{tagName:"span",multiline:!1,value:v,className:`${r}__subtitle ${r}__subtitle_top`}),(0,t.createElement)(a.RichText.Content,{tagName:u,value:h,className:`${r}__title`}),y&&!!N&&(0,t.createElement)(a.RichText.Content,{tagName:"span",multiline:!1,value:N,className:`${r}__subtitle ${r}__subtitle_bottom`})),S&&!!T&&(0,t.createElement)(a.RichText.Content,{tagName:"div",value:T,className:z}),W===s&&R&&!!P&&!!L&&(0,t.createElement)("footer",{className:`${r}__footer`},(0,t.createElement)("a",{href:L,target:F,rel:(0,l.isEmpty)(I)?void 0:I,className:`${r}__link`},P)),W===m&&(H&&B||O&&A)&&(0,t.createElement)("footer",{className:`${r}__footer`},H&&!!B&&(0,t.createElement)("div",{className:`${r}__phone`},(0,t.createElement)("a",{href:`tel:${encodeURIComponent(B)}`},B)),O&&!!A&&(0,t.createElement)("div",{className:`${r}__email`},(0,t.createElement)("a",{href:`mailto:${A}`},A)))))},icon:()=>(0,t.createElement)(v.SVG,{viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(v.Path,{d:"M 1 4.6 L 1 27.4 C 1 30 3 32 5.6 32 L 18.4 32 C 21 32 23 30 23 27.4 L 23 4.6 C 23 2 21 0 18.4 0 L 5.6 0 C 3 0 1 2 1 4.6 Z M 18.4 3 C 19.2 3 20 3.8 20 4.6 L 20 27.4 C 20 28.2 19.2 29 18.4 29 L 5.6 29 C 4.8 29 4 28.2 4 27.4 L 4 4.6 C 4 3.8 4.8 3 5.6 3 L 18.4 3 Z"}),(0,t.createElement)(v.Path,{d:"M 24.506 0.8 L 24.506 2.2 C 24.506 2.642 24.864 3 25.306 3 C 26.106 3 26.906 3.8 26.906 4.6 L 26.906 27.4 C 26.906 28.2 26.106 29 25.306 29 C 24.864 29 24.506 29.358 24.506 29.8 L 24.506 31.2 C 24.506 31.641 24.864 32 25.306 32 C 27.906 32 29.906 30 29.906 27.4 L 29.906 4.6 C 29.906 2 27.906 0 25.306 0 C 24.864 0 24.506 0.358 24.506 0.8 Z"}),(0,t.createElement)(v.Path,{d:"M 30.6 0.8 L 30.6 2.2 C 30.6 2.642 30.958 3 31.4 3 C 32.2 3 33 3.8 33 4.6 L 33 27.4 C 33 28.2 32.2 29 31.4 29 C 30.958 29 30.6 29.358 30.6 29.8 L 30.6 31.2 C 30.6 31.641 30.958 32 31.4 32 C 34 32 36 30 36 27.4 L 36 4.6 C 36 2 34 0 31.4 0 C 30.958 0 30.6 0.358 30.6 0.8 Z"})),parent:["wpd/block-cards"]})}},l={};function a(e){var i=l[e];if(void 0!==i)return i.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,l,i,n)=>{if(!l){var o=1/0;for(m=0;m<e.length;m++){for(var[l,i,n]=e[m],r=!0,c=0;c<l.length;c++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](l[c])))?l.splice(c--,1):(r=!1,n<o&&(o=n));if(r){e.splice(m--,1);var s=i();void 0!==s&&(t=s)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[l,i,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var i,n,[o,r,c]=l,s=0;if(o.some((t=>0!==e[t]))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(c)var m=c(a)}for(t&&t(l);s<o.length;s++)n=o[s],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},l=globalThis.webpackChunkwp_block_cards=globalThis.webpackChunkwp_block_cards||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var i=a.O(void 0,[431],(()=>a(193)));i=a.O(i)})();